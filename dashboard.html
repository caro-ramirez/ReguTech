<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReguTech - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="d-flex" id="wrapper">
    <div class="bg-dark-purple border-right" id="sidebar-wrapper">
        <div class="sidebar-heading text-center py-4 text-white fs-4 fw-bold">
            <a href="#" class="d-flex align-items-center text-decoration-none">
                <img src="https://i.imgur.com/G5g2mJc.png" alt="Logo" class="sidebar-logo me-2">
                ReguTech
            </a>
        </div>
        <div class="list-group list-group-flush">
            <a href="#" class="list-group-item list-group-item-action" onclick="showSection('dashboard-section')">
                <i class="fas fa-tachometer-alt me-2"></i>Dashboard
            </a>
            <a href="#" class="list-group-item list-group-item-action" onclick="showSection('checklist-section')">
                <i class="fas fa-clipboard-check me-2"></i>Checklists
            </a>
            <a href="#" class="list-group-item list-group-item-action" onclick="showSection('policy-section')">
                <i class="fas fa-file-contract me-2"></i>Políticas
            </a>
            <a href="#" class="list-group-item list-group-item-action" onclick="showSection('risk-section')">
                <i class="fas fa-exclamation-triangle me-2"></i>Riesgos
            </a>
            <a href="#" class="list-group-item list-group-item-action" onclick="showSection('audit-section')">
                <i class="fas fa-folder-open me-2"></i>Auditorías
            </a>
            <a href="#" class="list-group-item list-group-item-action" onclick="showSection('profile-section')">
                <i class="fas fa-user-circle me-2"></i>Mi Perfil
            </a>
        </div>
        <div class="sidebar-footer">
            <a href="#" class="btn btn-outline-light w-100">
                <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión
            </a>
        </div>
    </div>
    <div id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg navbar-light bg-light-gray border-bottom shadow-sm">
            <div class="container-fluid">
                <button class="btn btn-primary-custom" id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="ms-auto d-flex align-items-center">
                    <span class="navbar-text me-3 d-none d-md-block fw-bold text-dark-blue">
                        ¡Bienvenido, Carolina!
                    </span>
                    <a href="#" class="btn btn-outline-secondary">
                        <i class="fas fa-bell"></i>
                    </a>
                </div>
            </div>
        </nav>

        <div class="container-fluid py-4">
            <div id="dashboard-section" class="active">
                <h1 class="dashboard-title mb-4">Dashboard Principal</h1>
                <p class="text-muted mb-5">Un resumen visual de las métricas clave de cumplimiento y calidad.</p>

                <div class="row g-4 mb-4">
                    <div class="col-md-6 col-lg-3">
                        <div class="card card-kpi">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="text-muted text-uppercase fw-bold">Cumplimiento</h5>
                                        <h3 class="card-kpi-value">92%</h3>
                                    </div>
                                    <i class="fas fa-clipboard-check kpi-icon text-success"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card card-kpi">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="text-muted text-uppercase fw-bold">Riesgos Abiertos</h5>
                                        <h3 class="card-kpi-value text-danger">7</h3>
                                    </div>
                                    <i class="fas fa-exclamation-triangle kpi-icon text-danger"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card card-kpi">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="text-muted text-uppercase fw-bold">Tareas Pendientes</h5>
                                        <h3 class="card-kpi-value text-warning">24</h3>
                                    </div>
                                    <i class="fas fa-tasks kpi-icon text-warning"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card card-kpi">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="text-muted text-uppercase fw-bold">Auditorías Finalizadas</h5>
                                        <h3 class="card-kpi-value">12</h3>
                                    </div>
                                    <i class="fas fa-folder-open kpi-icon text-info"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row g-4 mb-4">
                    <div class="col-lg-6">
                        <div class="card shadow-sm p-4 h-100">
                            <h4 class="card-title fw-bold mb-3">Progreso de Cumplimiento Mensual</h4>
                            <canvas id="lineChart"></canvas>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card shadow-sm p-4 h-100">
                            <h4 class="card-title fw-bold mb-3">Distribución de Tipos de Riesgo</h4>
                            <canvas id="pieChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="row g-4 mb-4">
                    <div class="col-lg-8">
                        <div class="card shadow-sm p-4 h-100">
                            <h4 class="card-title fw-bold mb-3">Cumplimiento por Área de Negocio</h4>
                            <canvas id="barChart"></canvas>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card shadow-sm p-4 h-100">
                            <h4 class="card-title fw-bold mb-3">Tareas Pendientes</h4>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Completar auditoría de ISO 27001
                                    <span class="badge bg-danger rounded-pill">Urgente</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Revisar política de privacidad
                                    <span class="badge bg-warning text-dark rounded-pill">Media</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Formación sobre protección de datos
                                    <span class="badge bg-info rounded-pill">Baja</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Actualizar plan de contingencia
                                    <span class="badge bg-warning text-dark rounded-pill">Media</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var menuToggle = document.getElementById('menu-toggle');
    var wrapper = document.getElementById('wrapper');
    menuToggle.addEventListener('click', function(e) {
        e.preventDefault();
        wrapper.classList.toggle('toggled');
    });

    // Lógica para simular la navegación entre secciones
    function showSection(sectionId) {
        document.querySelectorAll('#page-content-wrapper > div').forEach(section => {
            section.classList.add('hidden');
        });
        document.getElementById(sectionId).classList.remove('hidden');

        document.querySelectorAll('#sidebar-wrapper .list-group-item').forEach(link => {
            link.classList.remove('active');
        });
        const activeLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
        if (activeLink) {
            activeLink.classList.add('active');
        }
    }

    // Colores de la paleta ReguTech
    const reguTechColors = {
        primary: '#5e4d7d',
        primaryDark: '#2c215e',
        secondary: '#00bcd4',
        accent: '#673ab7'
    };

    // Gráfico de Líneas
    const lineCtx = document.getElementById('lineChart');
    if(lineCtx) {
        new Chart(lineCtx, {
            type: 'line',
            data: {
                labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun'],
                datasets: [{
                    label: 'Cumplimiento (%)',
                    data: [75, 80, 85, 88, 92, 95],
                    backgroundColor: reguTechColors.primary,
                    borderColor: reguTechColors.primary,
                    borderWidth: 2,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });
    }

    // Gráfico Circular (Pie Chart)
    const pieCtx = document.getElementById('pieChart');
    if(pieCtx) {
        new Chart(pieCtx, {
            type: 'pie',
            data: {
                labels: ['Operativos', 'Estratégicos', 'Financieros', 'De Cumplimiento'],
                datasets: [{
                    data: [35, 20, 25, 20],
                    backgroundColor: [
                        reguTechColors.primary,
                        reguTechColors.secondary,
                        reguTechColors.accent,
                        reguTechColors.primaryDark
                    ],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true
            }
        });
    }

    // Gráfico de Barras
    const barCtx = document.getElementById('barChart');
    if(barCtx) {
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['Ventas', 'RRHH', 'Legal', 'Operaciones', 'IT'],
                datasets: [{
                    label: 'Hallazgos Abiertos',
                    data: [2, 1, 0, 5, 3],
                    backgroundColor: reguTechColors.primary,
                    borderColor: reguTechColors.primary,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>